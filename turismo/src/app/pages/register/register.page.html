<ion-header translucent="true">
  <ion-toolbar class="custom-toolbar">
    <div class="toolbar-left">
      <img src="assets/icon/logo.png" alt="TurisMatch" class="logo" />
      <div class="site-title">TURIS MATCH</div>
    </div>

    <div class="toolbar-right">
      <ion-button fill="clear" class="account-button" routerLink="/login">
        <ion-icon name="person-outline" class="account-icon"></ion-icon>
        <ion-label class="account-label">Mi cuenta</ion-label>
      </ion-button>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="register-content">
  <div class="register-box">
    <h1>Registro</h1>

    <ion-list class="form-list" lines="none">
      <!-- NOMBRE con validación en tiempo real -->
      <ion-item class="input-item" lines="none">
        <div class="input-field">
          <ion-input 
            placeholder="Nombre" 
            [(ngModel)]="nombre" 
            type="text"
            (ionInput)="onNombreInput($event)">
          </ion-input>
        </div>
      </ion-item>

      <!-- APELLIDO con validación en tiempo real -->
      <ion-item class="input-item" lines="none">
        <div class="input-field">
          <ion-input 
            placeholder="Apellido" 
            [(ngModel)]="apellido" 
            type="text"
            (ionInput)="onApellidoInput($event)">
          </ion-input>
        </div>
      </ion-item>

      <!-- TELÉFONO con validación en tiempo real -->
      <ion-item class="input-item" lines="none">
        <div class="input-field">
          <ion-input 
            placeholder="Teléfono" 
            [(ngModel)]="telefono" 
            type="tel"
            (ionInput)="onTelefonoInput($event)">
          </ion-input>
        </div>
      </ion-item>

      <!-- EMAIL -->
      <ion-item class="input-item" lines="none">
        <div class="input-field">
          <ion-input 
            placeholder="Email" 
            [(ngModel)]="email" 
            type="email">
          </ion-input>
        </div>
      </ion-item>

      <!-- CONTRASEÑA con validación en tiempo real -->
      <ion-item class="input-item" lines="none">
        <div class="input-field">
          <ion-input 
            type="password" 
            [(ngModel)]="password" 
            (ionInput)="onPasswordInput($event)"
            placeholder="Crea contraseña">
          </ion-input>
        </div>
      </ion-item>

      <!-- CONFIRMAR CONTRASEÑA -->
      <ion-item class="input-item" lines="none">
        <div class="input-field">
          <ion-input 
            placeholder="Repita Contraseña" 
            [(ngModel)]="confirmPassword" 
            type="password">
          </ion-input>
        </div>
      </ion-item>
    </ion-list>

    <!-- INDICADORES DE CONTRASEÑA SEGURA -->
    <ion-list lines="none" class="password-requirements">
      <ion-item>
        <ion-icon 
          [name]="passwordRequirements.minLength ? 'checkmark-circle' : 'ellipse'" 
          [color]="passwordRequirements.minLength ? 'success' : 'medium'">
        </ion-icon>
        <ion-label class="ion-text-wrap">Mínimo 6 caracteres</ion-label>
      </ion-item>
      
      <ion-item>
        <ion-icon 
          [name]="passwordRequirements.hasUpperCase ? 'checkmark-circle' : 'ellipse'" 
          [color]="passwordRequirements.hasUpperCase ? 'success' : 'medium'">
        </ion-icon>
        <ion-label class="ion-text-wrap">Al menos una mayúscula (A-Z)</ion-label>
      </ion-item>
      
      <ion-item>
        <ion-icon 
          [name]="passwordRequirements.hasNumber ? 'checkmark-circle' : 'ellipse'" 
          [color]="passwordRequirements.hasNumber ? 'success' : 'medium'">
        </ion-icon>
        <ion-label class="ion-text-wrap">Al menos un número (0-9)</ion-label>
      </ion-item>
    </ion-list>

    <!-- BOTÓN REGISTRARSE -->
    <ion-button 
      expand="block" 
      class="btn-crear"
      (click)="onRegister()"
      [disabled]="loading">
      
      <ion-spinner *ngIf="loading"></ion-spinner>
      <span *ngIf="!loading">Registrarse</span>
    </ion-button>

    <!-- BOTÓN VOLVER AL LOGIN -->
    <ion-button 
      expand="block" 
      class="btn-crear" 
      (click)="volverAlLogin()"
      [disabled]="loading">
      Volver al Login
    </ion-button>
  </div>
</ion-content>