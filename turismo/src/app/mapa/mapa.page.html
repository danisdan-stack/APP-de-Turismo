<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/filtros"></ion-back-button>
        </ion-buttons>

        <ion-title>Mapa de Resultados</ion-title>

        <ion-buttons slot="end">
            <ion-button (click)="recargarBusqueda()" [disabled]="cargando">
                <ion-icon name="refresh-outline" slot="icon-only"></ion-icon>
            </ion-button>
            <ion-button (click)="centrarMapa()">
                <ion-icon name="locate-outline" slot="icon-only"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <!-- Estado de carga -->
    <div *ngIf="cargando" class="loading-container">
        <ion-spinner></ion-spinner>
        <p>Buscando puntos en el mapa...</p>
    </div>

  
    <div class="mapa-container">
        <div #mapContainer style="height: 100%; width: 100%"></div>
    </div>

    <!-- Resumen de resultados -->
    <ion-footer *ngIf="puntos.length > 0 && !cargando">
        <ion-toolbar>
            <ion-title size="small">
                {{ getResumenBusqueda() }}
            </ion-title>
        </ion-toolbar>
    </ion-footer>
</ion-content>